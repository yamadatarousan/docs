設計方針：確率的な探索主体を開発系に入れたときの安定化条件

本設計では、AIを「知識を保持し一貫した判断を行う主体」としてではなく、
読み込んだ文脈に対して確率的に次の一手を生成する探索主体として扱う。

曖昧さを含む文脈を入力とする限り、AIの出力は本質的に多分岐になる。
それぞれの出力は局所的にはもっともらしく見えるが、そのすべてがシステム全体にとって適切であるとは限らない。

したがって、AIを開発に導入することは
「実装を自動化する」ことではなく、
実装の探索が高速かつ多分岐になる状況を受け入れることを意味する。

問題は、探索によって不適切な枝が生成されること自体ではない。
問題になるのは、不適切な枝がそのまま統合され、
以降の開発における前提として固定化されてしまうことである。

この観点から見ると、本設計が扱う課題は
「確率的な探索主体を開発系に入れたときの安定化条件」になる。

ここで言う安定化とは、
探索（生成）が継続しても、システムが持つべき性質が崩れないことを指す。
言い換えれば、

探索（生成）と固定（統合）が分離され、
固定されるのは検証を通過したものだけ、
という構造を作ること
である。

この構造を成立させるためには、二つの仕組みが必要になる。

一つは、探索の範囲をあらかじめ制限することだ。
アーキテクチャ、境界、責務分離、依存方向といった設計要素は、
AIに正解を教えるためのものではなく、
探索が向かってよい方向と、向かってはいけない方向を定めるためのものとして機能する。

もう一つは、探索の結果を選別することだ。
生成された実装や変更のうち、
設計として許容できないものが統合されるのを防ぐ必要がある。
そのために、契約、不変条件、互換性といった性質を事前に定義し、
それらを満たさない変更を機械的に遮断する。

本ドキュメントで言う「レール」とは、
この固定化の条件をシステムの外側から定義する装置を指す。

レールは、良い出力を信頼するためのものではない。
悪い枝が固定化されないことを保証するための構造である。

ここで扱っている二つの仕組み、すなわち
「探索の範囲を制限すること」と「探索の結果を選別すること」は、
役割が異なるため、本ドキュメントでは意識的に区別して扱う。

探索の範囲を制限する設計要素は、探索が行われる前に存在する。
それらは、探索主体がどの方向に枝を伸ばせるかをあらかじめ規定し、
到達してほしくない領域を探索空間から除外する役割を担う。

一方で、探索の結果を選別する設計要素は、探索が行われた後に作用する。
探索によって生成された枝のうち、
固定化してよいものと、固定化してはいけないものを分ける役割を担う。

この二つは同一のものではないため、
本ドキュメントではレールを次の二つの要素に分けて扱う。

第一に、探索空間の制約である。
これは、実装が生成される前提として、
どの方向に探索が進んでよいかを定める。

第二に、固定化の条件である。
これは、生成された実装や変更が、
統合されてよいかどうかを判断する基準である。

以降では、この二つの観点をもとに、
探索空間の制約として何を先に決めておくべきか、
固定化の条件として何を検証可能な形で定義すべきか、
そしてそれらをどこで検証するかを整理していく。